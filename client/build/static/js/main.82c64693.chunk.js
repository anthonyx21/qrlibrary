(this["webpackJsonpqrLibrary-frontend"]=this["webpackJsonpqrLibrary-frontend"]||[]).push([[0],{32:function(e,t){e.exports="data:image/png;base64,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"},34:function(e,t,a){e.exports=a(71)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),u=(a(39),a(15)),o=a(10);a(40);var s=function(e){var t=e.book,a=e.showDetails;return r.a.createElement("div",null,t&&!a&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:t.imageURL,alt:t.title})),r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,t.title))),t&&a&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:t.imageURL,alt:t.title})),r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,t.title)),r.a.createElement("div",{className:"author"},"Author: ",t.author),r.a.createElement("div",{className:"description"},t.description)))},i=(a(41),a(32)),m=a.n(i),p=function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"header-image",src:m.a,alt:"TD Logo"}),r.a.createElement("span",{className:"header-title"},"Enterprise",r.a.createElement("br",null),"Payments",r.a.createElement("br",null),"Library"))},b=a(4),d=a(2),h=a.n(d),f=a(8),v=a(9),E=a(13),y=a.n(E),g="http://localhost:3000/api",N=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(g,"/book/").concat(a,"/in"),r={name:t},e.prev=2,e.next=5,y.a.post(n,r);case 5:return c=e.sent,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(2),console.log("error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(g,"/book/").concat(a,"/out"),r={name:t},e.prev=2,e.next=5,y.a.post(n,r);case 5:return c=e.sent,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(2),console.log("error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}(),w=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],c=a[1],l=Object(v.b)(["paymentsLibraryName"]),u=Object(b.a)(l,2),s=u[0],i=u[1],m=Object(n.useState)(s.paymentsLibraryName),p=Object(b.a)(m,2),d=p[0],E=p[1],y=Object(o.f)(),g=function(e){return/^[a-zA-Z ]+$/.test(e)};return{errorMessage:r,handleInputChange:function(e){E(e.currentTarget.value)},handleCheckout:function(){var t=Object(f.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),g(d)){t.next=5;break}c("Please enter a valid name"),t.next=9;break;case 5:return i("paymentsLibraryName",d),t.next=8,k(d,e);case 8:y.push("/book/".concat(e,"/reserved"));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),handleCheckin:function(){var t=Object(f.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),g(d)){t.next=5;break}c("Please enter a valid name"),t.next=9;break;case 5:return i("paymentsLibraryName",d),t.next=8,N(d,e);case 8:y.push("/book/".concat(e,"/returned"));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};a(64);var O=function(e){var t=Object(v.b)(["paymentsLibraryName"]),a=Object(b.a)(t,1)[0],c=w(e.bookID),l=c.errorMessage,u=c.handleInputChange,o=c.handleCheckout,s=Object(n.useState)(!1),i=Object(b.a)(s,2),m=i[0],p=i[1];return Object(n.useEffect)((function(){a.paymentsLibraryName&&p(!0)}),[a]),r.a.createElement("div",{className:"formWrapper"},r.a.createElement("form",{onSubmit:o},!0===m?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"name"},"Welcome back ",a.paymentsLibraryName,"!"),r.a.createElement("input",{type:"text",hidden:!0,placeholder:"Your Name",defaultValue:a.paymentsLibraryName})):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,e.label),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Your Name",onChange:u}),r.a.createElement("p",{className:"errorMessage"},l)),r.a.createElement("input",{type:"submit",value:"Reserve This Book"})))};a(65);var A=function(e){var t=Object(v.b)(["paymentsLibraryName"]),a=Object(b.a)(t,1)[0],n=w(e.bookID),c=n.errorMessage,l=n.handleInputChange,u=n.handleCheckin;return r.a.createElement("div",null,a.paymentsLibraryName?r.a.createElement("div",{className:"formWrapper"},r.a.createElement("h2",{className:"name"},"Welcome back ",a.paymentsLibraryName,"!"),r.a.createElement("form",{onSubmit:u},r.a.createElement("input",{type:"text",hidden:!0,placeholder:"Your Name",defaultValue:a.paymentsLibraryName}),r.a.createElement("input",{type:"submit",value:"Return This Book"}))):r.a.createElement("div",{className:"formWrapper"},r.a.createElement("form",{onSubmit:u},r.a.createElement("label",null,e.label),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Your Name",onChange:l}),r.a.createElement("p",{className:"errorMessage"},c),r.a.createElement("input",{type:"submit",value:"Return This Book"}))))};a(66).config();var x=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(o.g)().id,l="".concat("http://localhost:3000/api","/book/").concat(c),u=function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(t);case 3:a=e.sent,r(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error fetching data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u(l)})),a},j=function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){!function(e){null!==e&&e.holds.length>0&&null!==e.holds[e.holds.length-1].checkedIn&&c(!0)}(e)})),r},L=function(e){var t=x(),a=j(t);return t&&r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(s,{book:t,showDetails:!0})||r.a.createElement("div",null,"...loading..."),a?r.a.createElement(O,{bookID:t._id,label:"Your Name"}):r.a.createElement(A,{bookID:t._id,label:"Your Name"}))};a(69);var X=function(e){var t=e.status;return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("h1",{className:"status"},"Book ",t),r.a.createElement("hr",null))};a(70);var R=function(e){var t=function(e){return"Returned"===e?"We hope you enjoyed the book, please return it to the bookshelf in the cafe.":"Enjoy the book! Please scan the QR code again to return it."}(e.status);return r.a.createElement("div",null,r.a.createElement("h3",{className:"status-message"},t))},D=function(e){var t=e.status,a=x();return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(X,{status:t}),r.a.createElement(s,{book:a,showDetails:!1})||r.a.createElement("div",null,"...loading..."),r.a.createElement(R,{status:t}))},P=function(){return r.a.createElement(v.a,null,r.a.createElement(u.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/book/:id",exact:!0},r.a.createElement(L,null)),r.a.createElement(o.a,{path:"/book/:id/reserved",exact:!0},r.a.createElement(D,{status:"Reserved"})),r.a.createElement(o.a,{path:"/book/:id/returned",exact:!0},r.a.createElement(D,{status:"Returned"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.82c64693.chunk.js.map