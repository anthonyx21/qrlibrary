{"version":3,"sources":["assets/td-logo.png","components/BookDetails/BookDetails.tsx","components/Header/Header.tsx","api/bookAPI.ts","hooks/useFormValidation.ts","components/CheckoutForm/CheckoutForm.tsx","components/CheckinForm/CheckinForm.tsx","hooks/useBookData.ts","hooks/useBookAvailability.ts","screens/BookScanScreen/BookScanScreen.tsx","components/BookStatus/BookStatus.tsx","components/StatusMessage/StatusMessage.tsx","screens/BookStatusScreen/BookStatusScreen.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","require","BookDetails","book","showDetails","className","src","imageURL","alt","title","author","description","Header","_","logo","backendURL","process","checkin","name","bookID","a","endpoint","data","axios","post","response","console","log","checkout","useFormValidation","useState","errorMessage","setErrorMessage","useCookies","cookies","setCookie","paymentsLibraryName","setName","history","useHistory","validateName","test","handleInputChange","event","currentTarget","value","handleCheckout","preventDefault","push","handleCheckin","CheckoutForm","Props","isExistingUser","setIsExistingUser","useEffect","onSubmit","type","hidden","placeholder","defaultValue","label","onChange","CheckinForm","config","useBookData","setData","useParams","id","fetchData","get","result","useBookAvailability","availability","setAvailability","holds","length","checkedIn","checkAvailability","BookScan","bookData","isBookAvailable","_id","BookStatus","status","StatusMessage","message","getMessage","BookStatusScreen","App","path","exact","BookScanScreen","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.82c64693.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react'\nimport { Book } from '../../interfaces'\nrequire('./BookDetails.css')\n\ninterface Props {\n  book: Book\n  showDetails: boolean\n}\n\nexport const BookDetails: React.FC<Props> = ({ book, showDetails }) => {\n  return (\n    <div>\n      {book && !showDetails && (\n        <div className=\"container\">\n          <div className=\"image\">\n            <img src={book.imageURL} alt={book.title} />\n          </div>\n          <div className=\"title\">\n            <h1>{book.title}</h1>\n          </div>\n        </div>\n      )}\n\n      {book && showDetails && (\n        <div className=\"container\">\n          <div className=\"image\">\n            <img src={book.imageURL} alt={book.title} />\n          </div>\n          <div className=\"title\">\n            <h1>{book.title}</h1>\n          </div>\n          <div className=\"author\">Author: {book.author}</div>\n          <div className=\"description\">{book.description}</div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport './Header.css'\nimport logo from '../../assets/td-logo.png'\n\nexport const Header: React.FC = _ => {\n  return (\n    <div className=\"header\">\n      <img className=\"header-image\" src={logo} alt=\"TD Logo\" />\n      <span className=\"header-title\">\n        Enterprise\n        <br />\n        Payments\n        <br />\n        Library\n      </span>\n    </div>\n  )\n}\n","import axios from 'axios'\ndeclare const process: { env: { [key: string]: string } }\nconst backendURL: string = process.env['REACT_APP_LOCAL_BACKEND_URL']\n\nexport const checkin = async (name: string, bookID: string) => {\n  const endpoint: string = `${backendURL}/book/${bookID}/in`\n  const data = { name }\n  try {\n    let response = await axios.post(endpoint, data)\n    return response\n  } catch (error) {\n    // TODO: show this in the frontend if there's an error\n    console.log('error:', error)\n  }\n}\n\nexport const checkout = async (name: string, bookID: string) => {\n  const endpoint: string = `${backendURL}/book/${bookID}/out`\n  const data: object = { name }\n  try {\n    let response = await axios.post(endpoint, data)\n    return response\n  } catch (error) {\n    // throw new Error('error')\n    // TODO: show this in the frontend if there's an error\n    console.log('error:', error)\n  }\n}\n\nexport const getStatus = async (bookID: string) => {\n  const endpoint: string = `${backendURL}/book/${bookID}`\n  try {\n    const result = await axios.get(endpoint)\n    return result.data\n  } catch (error) {\n    // TODO: show this in the frontend if there's an error\n    console.log('error fetching data')\n  }\n}\n","import { useState } from 'react'\nimport { useCookies } from 'react-cookie'\nimport { checkout, checkin } from '../api/bookAPI'\nimport { useHistory } from 'react-router-dom'\n\nexport const useFormValidation = (bookID: string): any => {\n  const [errorMessage, setErrorMessage] = useState<string>('')\n  const [cookies, setCookie] = useCookies(['paymentsLibraryName'])\n  const [name, setName] = useState<string>(cookies.paymentsLibraryName)\n  let history = useHistory()\n\n  const validateName = (name: string) => {\n    const validNameRegex = /^[a-zA-Z ]+$/\n    return validNameRegex.test(name)\n  }\n\n  const handleInputChange = (event: React.FormEvent<HTMLFormElement>) => {\n    setName(event.currentTarget.value)\n  }\n\n  const handleCheckout = async (event: React.FormEvent<EventTarget>) => {\n    event.preventDefault()\n    if (!validateName(name)) {\n      setErrorMessage('Please enter a valid name')\n    } else {\n      setCookie('paymentsLibraryName', name)\n      await checkout(name, bookID)\n      history.push(`/book/${bookID}/reserved`)\n    }\n  }\n\n  const handleCheckin = async (event: React.FormEvent<EventTarget>) => {\n    event.preventDefault()\n    if (!validateName(name)) {\n      setErrorMessage('Please enter a valid name')\n    } else {\n      setCookie('paymentsLibraryName', name)\n      await checkin(name, bookID)\n      history.push(`/book/${bookID}/returned`)\n    }\n  }\n\n  return {\n    errorMessage,\n    handleInputChange,\n    handleCheckout,\n    handleCheckin,\n  }\n}\n","import React, { useState, useEffect } from 'react'\nimport { useFormValidation } from '../../hooks/useFormValidation'\nimport { useCookies } from 'react-cookie'\n\nrequire('./CheckoutForm.css')\n\ninterface Props {\n  label: string\n  bookID: string\n}\n\nexport const CheckoutForm: React.FC<Props> = Props => {\n  const [cookies] = useCookies(['paymentsLibraryName'])\n\n  const { errorMessage, handleInputChange, handleCheckout } = useFormValidation(\n    Props.bookID\n  )\n  const [isExistingUser, setIsExistingUser] = useState<boolean>(false)\n\n  useEffect(() => {\n    if (cookies.paymentsLibraryName) setIsExistingUser(true)\n  }, [cookies])\n\n  return (\n    <div className=\"formWrapper\">\n      <form onSubmit={handleCheckout}>\n        {isExistingUser === true ? (\n          <>\n            <h2 className=\"name\">\n              Welcome back {cookies.paymentsLibraryName}!\n            </h2>\n            <input\n              type=\"text\"\n              hidden\n              placeholder=\"Your Name\"\n              defaultValue={cookies.paymentsLibraryName}\n            />\n          </>\n        ) : (\n          <>\n            <label>{Props.label}</label>\n            <br />\n            <input\n              type=\"text\"\n              placeholder=\"Your Name\"\n              onChange={handleInputChange}\n            />\n            <p className=\"errorMessage\">{errorMessage}</p>\n          </>\n        )}\n        <input type=\"submit\" value=\"Reserve This Book\" />\n      </form>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useFormValidation } from '../../hooks/useFormValidation'\nimport { useCookies } from 'react-cookie'\n\nrequire('./CheckinForm.css')\n\ninterface Props {\n  label: string\n  bookID: string\n}\n\nexport const CheckinForm: React.FC<Props> = Props => {\n  const [cookies] = useCookies(['paymentsLibraryName'])\n  const { errorMessage, handleInputChange, handleCheckin } = useFormValidation(\n    Props.bookID\n  )\n  return (\n    <div>\n      {cookies.paymentsLibraryName ? (\n        <div className=\"formWrapper\">\n          <h2 className=\"name\">Welcome back {cookies.paymentsLibraryName}!</h2>\n          <form onSubmit={handleCheckin}>\n            <input\n              type=\"text\"\n              hidden\n              placeholder=\"Your Name\"\n              defaultValue={cookies.paymentsLibraryName}\n            />\n            <input type=\"submit\" value=\"Return This Book\" />\n          </form>\n        </div>\n      ) : (\n        <div className=\"formWrapper\">\n          <form onSubmit={handleCheckin}>\n            <label>{Props.label}</label>\n            <br />\n            <input\n              type=\"text\"\n              placeholder=\"Your Name\"\n              onChange={handleInputChange}\n            />\n            <p className=\"errorMessage\">{errorMessage}</p>\n            <input type=\"submit\" value=\"Return This Book\" />\n          </form>\n        </div>\n      )}\n    </div>\n  )\n}\n","import axios from 'axios'\nimport { useState, useEffect } from 'react'\nimport { Book } from '../interfaces'\nimport { useParams } from 'react-router-dom'\n\nrequire('dotenv').config()\n\nexport const useBookData = (): Book => {\n  const [data, setData] = useState<any>(null)\n  let params: any = useParams()\n  let bookID: string = params.id\n  const endpoint: string = `${process.env.REACT_APP_LOCAL_BACKEND_URL}/book/${bookID}`\n\n  const fetchData = async (endpoint: string) => {\n    try {\n      const result = await axios.get(endpoint)\n      setData(result.data)\n    } catch (error) {\n      console.log('error fetching data')\n    }\n  }\n  useEffect(() => {\n    fetchData(endpoint)\n  })\n\n  return data\n}\n","import { useEffect, useState } from 'react'\nimport { Book } from '../interfaces'\nexport const useBookAvailability = (book: Book): boolean => {\n  const [availability, setAvailability] = useState<boolean>(false)\n  const checkAvailability = (book: Book) => {\n    if (\n      book !== null &&\n      book.holds.length > 0 &&\n      book.holds[book.holds.length - 1].checkedIn !== null\n    ) {\n      setAvailability(true)\n    }\n  }\n\n  useEffect(() => {\n    checkAvailability(book)\n  })\n\n  return availability\n}\n","import React from 'react'\nimport { BookDetails } from '../../components/BookDetails/BookDetails'\nimport { Header } from '../../components/Header/Header'\nimport { CheckoutForm } from '../../components/CheckoutForm/CheckoutForm'\nimport { CheckinForm } from '../../components/CheckinForm/CheckinForm'\nimport { useBookData } from '../../hooks/useBookData'\nimport { useBookAvailability } from '../../hooks/useBookAvailability'\nimport { Book } from '../../interfaces'\n\nconst BookScan: React.FC = _ => {\n  let bookData: Book = useBookData()\n  let isBookAvailable: boolean = useBookAvailability(bookData)\n\n  return (\n    bookData && (\n      <div>\n        <Header />\n        {<BookDetails book={bookData} showDetails={true} /> || (\n          <div>...loading...</div>\n        )}\n        {isBookAvailable ? (\n          <CheckoutForm bookID={bookData._id} label={'Your Name'} />\n        ) : (\n          <CheckinForm bookID={bookData._id} label={'Your Name'} />\n        )}\n      </div>\n    )\n  )\n}\nexport default BookScan\n","import React from 'react'\nrequire('./BookStatus.css')\n\ninterface Props {\n  status: string\n}\n\nexport const BookStatus: React.FC<Props> = ({ status }) => {\n  return (\n    <div>\n      <hr />\n      <h1 className=\"status\">Book {status}</h1>\n      <hr />\n    </div>\n  )\n}\n","import React from 'react'\nrequire('./StatusMessage.css')\n\ninterface Props {\n  status: string\n}\n\nexport const StatusMessage: React.FC<Props> = ({ status }) => {\n  const getMessage = (status: string) => {\n    if (status === 'Returned')\n      return 'We hope you enjoyed the book, please return it to the bookshelf in the cafe.'\n    return 'Enjoy the book! Please scan the QR code again to return it.'\n  }\n  const message = getMessage(status)\n  return (\n    <div>\n      <h3 className=\"status-message\">{message}</h3>\n    </div>\n  )\n}\n","import React from 'react'\nimport { BookStatus } from '../../components/BookStatus/BookStatus'\nimport { Header } from '../../components/Header/Header'\nimport { BookDetails } from '../../components/BookDetails/BookDetails'\nimport { StatusMessage } from '../../components/StatusMessage/StatusMessage'\nimport { useBookData } from '../../hooks/useBookData'\nimport { Book } from '../../interfaces'\n\ninterface Props {\n  status: string\n}\n\nexport const BookStatusScreen: React.FC<Props> = ({ status }) => {\n  let bookData: Book = useBookData()\n\n  return (\n    <div>\n      <Header />\n      <BookStatus status={status} />\n      {<BookDetails book={bookData} showDetails={false} /> || (\n        <div>...loading...</div>\n      )}\n      <StatusMessage status={status} />\n    </div>\n  )\n}\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport BookScanScreen from './screens/BookScanScreen/BookScanScreen'\nimport { CookiesProvider } from 'react-cookie'\nimport { BookStatusScreen } from './screens/BookStatusScreen/BookStatusScreen'\n\nconst App: React.FC = () => {\n  return (\n    <CookiesProvider>\n      <Router>\n        <Switch>\n          <Route path=\"/book/:id\" exact>\n            <BookScanScreen />\n          </Route>\n          <Route path=\"/book/:id/reserved\" exact>\n            <BookStatusScreen status={'Reserved'} />\n          </Route>\n          <Route path=\"/book/:id/returned\" exact>\n            <BookStatusScreen status={'Returned'} />\n          </Route>\n        </Switch>\n      </Router>\n    </CookiesProvider>\n  )\n}\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}